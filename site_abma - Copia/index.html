<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nossa História | 01.05.2025</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Montserrat:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- Controle de Áudio Fixo -->
    <div class="audio-control">
        <div id="audio-toast" class="audio-toast" role="status" aria-live="polite">Pausado</div>
        
        <div class="audio-buttons">
            <button id="audioBtn" aria-label="Tocar ou Pausar" title="Play / Pause">
                <span id="music-icon">▶</span>
            </button>
            <button id="nextBtn" aria-label="Próxima Música" title="Próxima">
                <span>⏭</span>
            </button>
        </div>
        
        <audio id="bg-music" preload="none"></audio>
    </div>

    <!-- HERO SECTION -->
    <header class="hero">
        <div class="hero-gradient"></div>
        <div class="hero-blobs" aria-hidden="true">
            <div class="blob b1"></div>
            <div class="blob b2"></div>
            <div class="blob b3"></div>
            <div class="blob b4"></div> <!-- Mais um blob -->
        </div>
        <canvas id="heroCanvas" class="hero-canvas" aria-hidden="true"></canvas>
        <div class="hero-bokeh" aria-hidden="true"></div>
        <div class="hero-content fade-in-up">
            <h1 class="hero-title">Nossa História</h1>
            <p class="hero-subtitle">Cada segundo ao seu lado é um presente.</p>
            <button class="cta-btn" onclick="openStoryModal()">Ler Nossa Jornada ❤️</button>
        </div>
        <div class="hero-vignette" aria-hidden="true"></div>
        <div class="scroll-indicator"><span>⌄</span></div>
    </header>

    <!-- CONTADOR -->
    <section class="counter-section">
        <h2 class="section-title">Eu te amo há...</h2>
        <div id="timer" class="timer-container">
            <div class="time-card"><span id="days" class="time-value">0</span><span class="time-label">Dias</span></div>
            <div class="time-card"><span id="hours" class="time-value">00</span><span class="time-label">Horas</span></div>
            <div class="time-card"><span id="minutes" class="time-value">00</span><span class="time-label">Minutos</span></div>
            <div class="time-card"><span id="seconds" class="time-value">00</span><span class="time-label">Segundos</span></div>
        </div>
        <p class="counter-footer">Desde 01 de Maio de 2025</p>
    </section>

    <!-- SLIDESHOW -->
    <section class="slideshow-section">
        <h2 class="section-title">Nossos Momentos</h2>
        <div class="slideshow-wrapper" onmouseenter="pauseSlide()" onmouseleave="resumeSlide()">
            <button class="nav-btn prev" onclick="changeSlide(-1)">&#10094;</button>
            
            <div class="slides-container" id="slides-container">
                <div class="slide active">
                    <img src="img/normalized/foto1_norm.jpg" alt="Foto 1" onclick="openLightbox(0)" loading="lazy">
                    <div class="caption">Cada momento ao seu lado faz o mundo parecer mais leve.</div>
                </div>
                <div class="slide">
                    <img src="img/normalized/foto2_norm.jpg" alt="Foto 2" onclick="openLightbox(1)" loading="lazy">
                    <div class="caption">O seu sorriso sempre encontra um jeito de iluminar meu dia.</div>
                </div>
                <div class="slide">
                    <img src="img/normalized/foto3_norm.jpg" alt="Foto 3" onclick="openLightbox(2)" loading="lazy">
                    <div class="caption">Com você, até os silêncios têm significado.</div>
                </div>
                <div class="slide">
                    <img src="img/normalized/foto4_norm.jpg" alt="Foto 4" onclick="openLightbox(3)" loading="lazy">
                    <div class="caption">Nos seus braços, eu encontro meu lugar favorito.</div>
                </div>
                <div class="slide">
                    <img src="img/normalized/foto5_norm.jpg" alt="Foto 5" onclick="openLightbox(4)" loading="lazy">
                    <div class="caption">A cada dia eu descubro um novo motivo para te amar.</div>
                </div>
                <div class="slide">
                    <img src="img/normalized/foto6_norm.jpg" alt="Foto 6" onclick="openLightbox(5)" loading="lazy">
                    <div class="caption">Você transforma dias comuns em lembranças eternas.</div>
                </div>
                 <div class="slide">
                    <img src="img/normalized/foto7_norm.jpg" alt="Foto 7" onclick="openLightbox(6)" loading="lazy">
                    <div class="caption">Nossa história é a minha favorita.</div>
                </div>
            </div>

            <button class="nav-btn next" onclick="changeSlide(1)">&#10095;</button>
        </div>
        
        <div class="dots-container">
            <span class="dot active" onclick="setSlide(0)"></span>
            <span class="dot" onclick="setSlide(1)"></span>
            <span class="dot" onclick="setSlide(2)"></span>
            <span class="dot" onclick="setSlide(3)"></span>
            <span class="dot" onclick="setSlide(4)"></span>
            <span class="dot" onclick="setSlide(5)"></span>
            <span class="dot" onclick="setSlide(6)"></span>
        </div>
    </section>

    <!-- MODAL DA HISTÓRIA -->
    <div id="story-modal" class="modal" aria-hidden="true" role="dialog">
        <div class="modal-content">
            <span class="close-modal" onclick="closeStoryModal()">&times;</span>
            <div class="modal-body">
                <div class="sidebar">
                    <h3>Capítulos</h3>
                    <ul class="chapter-list">
                        <li onclick="loadChapter(0)" class="active">01. O Começo</li>
                        <li onclick="loadChapter(1)">02. Encontro</li>
                        <li onclick="loadChapter(2)">03. O Beijo</li>
                        <li onclick="loadChapter(3)">04. O Pedido</li>
                        <li onclick="loadChapter(4)">05. Morar Juntos</li>
                        <li onclick="loadChapter(5)">06. Hoje</li>
                    </ul>
                </div>
                <div class="story-content">
                    <h2 id="chapter-title">Título</h2>
                    <p id="chapter-date" class="chapter-date">Data</p>
                    <div class="text-container">
                        <p id="chapter-text"></p>
                    </div>
                    <div class="modal-nav">
                        <button onclick="prevChapter()" id="btn-prev-chap" disabled>Anterior</button>
                        <button onclick="nextChapter()" id="btn-next-chap">Próximo</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- LIGHTBOX -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox(event)">
        <span class="close-lightbox" onclick="closeLightbox()">&times;</span>
        <img id="lightbox-img" src="" alt="Ampliada">
    </div>

    <footer>
        <p>Feito com todo meu amor. ❤️ Para sempre nós.</p>
    </footer>

    <script src="js/script.js"></script>
</body>
</html>